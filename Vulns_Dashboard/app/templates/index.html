{% extends "base.html" %}
{% include "header.html" %}

{% block content %}
<div class="bg-white mx-auto py-15 sm:py-15">
  <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
    {% include "stats_section.html" %}
    <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-4">
      <div class="col-span-1 md:col-span-2 lg:col-span-4 xl:col-span-4 flex justify-center">
        <div id="plot0" class="chart_card w-full h-120"></div>
      </div>
      <div class="col-span-1 md:col-span-1 lg:col-span-2 xl:col-span-2 flex justify-center">
        <div id="plot1" class="chart_card w-full h-120"></div>
      </div>
      <div class="col-span-1 md:col-span-1 lg:col-span-2 xl:col-span-2 flex justify-center">
        <div id="plot2" class="chart_card w-full h-120"></div>
      </div>
      <div class="col-span-1 md:col-span-1 lg:col-span-2 xl:col-span-2 flex justify-center">
        <div id="plot3" class="chart_card w-full h-120"></div>
      </div>
      <div class="col-span-1 md:col-span-1 lg:col-span-2 xl:col-span-2 flex justify-center">
        <div id="plot4" class="chart_card w-full h-120"></div>
      </div>
      <div class="col-span-1 md:col-span-2 lg:col-span-4 xl:col-span-4 flex justify-center">
        <div id="plot5" class="chart_card w-full h-120"></div>
      </div>
    
    </div>
  </div>
</div>
{% endblock %}

{% block footer %}
{% include "footer.html" %}
{% endblock %}

{% block scripts %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
  const chartData = {{ chart_data | safe }};
  function resizeCharts() {
    {% for chart in chart_data %}
    {
      const chartJSON = JSON.parse(chartData[{{ loop.index0 }}]);
      const layout = chartJSON.layout || {};
      layout.autoresize = true;
      layout.height = document.getElementById('plot{{ loop.index0 }}').clientHeight;
      layout.width = document.getElementById('plot{{ loop.index0 }}').clientWidth;
      Plotly.react('plot{{ loop.index0 }}', chartJSON.data, layout, {responsive: true});
    }
    {% endfor %}
  }
  window.onresize = resizeCharts;
  resizeCharts();
</script>
{% endblock %}
